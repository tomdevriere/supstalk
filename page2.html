<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>chargement…</title>
<meta name="theme-color" content="#fffc00" />
<style>
  :root{--bg:#fffc00;--ink:#111;--muted:rgba(0,0,0,.55);--ok:#15ba53}
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%}
  body{font-family:system-ui,Segoe UI,Inter,Arial,sans-serif;background:var(--bg);color:var(--ink);display:flex;align-items:center;justify-content:center;padding:32px}

  .card{width:min(920px,96vw);background:#fff;border-radius:20px;padding:28px 26px;box-shadow:0 28px 70px rgba(0,0,0,.18)}
  h1{font-size:clamp(22px,4vw,38px);font-weight:900;letter-spacing:-.02em;margin-bottom:6px}
  .sub{color:var(--muted);margin-bottom:18px}

  /* Timeline */
  .timeline{position:relative;margin:8px 0 18px}
  .rail{position:absolute;left:22px;top:0;bottom:0;width:2px;background:linear-gradient(#e9e9e9,#f1f1f1)}
  .row{position:relative;display:grid;grid-template-columns:50px 1fr;gap:10px;padding:14px 14px 14px 0;border-radius:14px;border:1px solid #efefef;background:linear-gradient(#fafafa,#f7f7f7);margin-left:8px;margin-bottom:12px;overflow:hidden}
  .dot{position:relative;place-self:center;width:16px;height:16px;border-radius:50%;background:#dcdcdc;box-shadow:0 2px 6px rgba(0,0,0,.08) inset}
  .dot .ring{position:absolute;inset:-6px;border:2px solid #a0a0a0;border-radius:50%;opacity:.0;animation:ping 1.1s ease infinite}
  @keyframes ping{0%{transform:scale(.6);opacity:.6}100%{transform:scale(1.7);opacity:0}}

  .label{font-weight:800}
  .desc{color:var(--muted);font-size:13px;margin-top:4px}

  /* barre de progression */
  .bar{position:absolute;left:0;right:0;bottom:0;height:4px;background:rgba(0,0,0,.04);overflow:hidden}
  .bar>span{position:absolute;left:0;top:0;height:100%;width:0%;background:linear-gradient(90deg, rgba(0,0,0,.18), rgba(0,0,0,.28))}

  /* états */
  .row.active{border-color:#e7e7e7;background:linear-gradient(#ffffff,#fbfbfb)}
  .row.active .dot{background:#111}
  .row.active .dot .ring{border-color:#111}
  .row.done{background:linear-gradient(#fbfdf9,#f1fff0);border-color:#e6f6e9}
  .row.done .dot{background:var(--ok)}
  .row.done .dot .ring{display:none}
  .check{position:absolute;left:17px;top:12px;width:22px;height:22px;border-radius:50%;display:none;place-items:center}
  .check svg{width:18px;height:18px;stroke:#fff;stroke-width:2;fill:none}
  .row.done .check{display:grid;animation:pop .28s cubic-bezier(.2,.95,.2,1)}
  @keyframes pop{0%{transform:scale(.2);opacity:0}60%{transform:scale(1.08);opacity:1}100%{transform:scale(1)}}

  /* CTA */
  .cta{display:flex;justify-content:center;margin-top:16px}
  .btn{
    width:180px;height:54px;border:0;border-radius:14px;background:#111;color:#fff;font-weight:900;
    box-shadow:0 18px 44px rgba(0,0,0,.28);cursor:pointer;opacity:0;transform:translateY(8px) scale(.99);
    transition:opacity .38s ease, transform .38s cubic-bezier(.2,.9,.2,1);text-decoration:none;display:flex;align-items:center;justify-content:center
  }
  .btn.show{opacity:1;transform:none;animation:bounce .9s cubic-bezier(.2,.8,.2,1)}
  @keyframes bounce{0%{transform:translateY(8px) scale(.98)}40%{transform:translateY(-6px) scale(1.02)}65%{transform:translateY(2px) scale(.995)}100%{transform:none}}
  .note{text-align:center;color:var(--muted);font-size:13px;margin-top:10px}

  /* entrée douce */
  .fade{opacity:0;transform:translateY(6px);animation:enter .45s ease forwards}
  .d1{animation-delay:.4s}.d2{animation-delay:.7s}.d3{animation-delay:1s}.d4{animation-delay:1.3s}
  @keyframes enter{to{opacity:1;transform:none}}

  @media (max-width:720px){
    .card{padding:20px}
    .btn{width:45%;height:52px}
  }
</style>
</head>
<body>
  <main class="card">
    <h1>chargement…</h1>
    <p class="sub" id="sub">Traitement en plusieurs étapes. Merci de patienter.</p>

    <section class="timeline">
      <div class="rail"></div>

      <div class="row fade d1" id="st1">
        <div class="dot"><span class="ring"></span></div>
        <div><div class="label">Identification du compte</div><div class="desc">Vérification des identifiants et des métadonnées.</div></div>
        <div class="check"><svg viewBox="0 0 24 24"><path d="M20 6 10 16 4 11"/></svg></div>
        <div class="bar"><span></span></div>
      </div>

      <div class="row fade d2" id="st2">
        <div class="dot"><span class="ring"></span></div>
        <div><div class="label">Connexion à la plateforme</div><div class="desc">Tentative via canaux autorisés.</div></div>
        <div class="check"><svg viewBox="0 0 24 24"><path d="M20 6 10 16 4 11"/></svg></div>
        <div class="bar"><span></span></div>
      </div>

      <div class="row fade d3" id="st3">
        <div class="dot"><span class="ring"></span></div>
        <div><div class="label">Tentative de suppression</div><div class="desc">Actions automatisées initiées.</div></div>
        <div class="check"><svg viewBox="0 0 24 24"><path d="M20 6 10 16 4 11"/></svg></div>
        <div class="bar"><span></span></div>
      </div>

      <div class="row fade d4" id="st4">
        <div class="dot"><span class="ring"></span></div>
        <div><div class="label">Compte supprimé — en attente</div><div class="desc">Statut final: actions en attente.</div></div>
        <div class="check"><svg viewBox="0 0 24 24"><path d="M20 6 10 16 4 11"/></svg></div>
        <div class="bar"><span></span></div>
      </div>
    </section>

    <div class="cta">
      <a href="http://t.trklinkx.com/click?pid=4830&offer_id=9127" target="_blank" rel="noopener" id="okBtn" class="btn">2€</a>
    </div>
    <p class="note">Après le paiement ce compte sera supprimé sous 5 à 10 minutes</p>
  </main>

<script>
(function(){
  const p=new URLSearchParams(location.search); const u=p.get('u')||'';
  if(u) document.getElementById('sub').textContent=`Dossier pour @${u} — traitement en cours.`;

  const steps=[{el:document.getElementById('st1'),dur:1900},
               {el:document.getElementById('st2'),dur:2600},
               {el:document.getElementById('st3'),dur:3100},
               {el:document.getElementById('st4'),dur:2400}];

  const runBar=(row,dur)=>{
    row.querySelector('.bar>span').style.animation=`grow ${dur}ms linear forwards`;
  };
  const style=document.createElement('style');
  style.textContent='@keyframes grow{from{width:0%}to{width:100%}}';
  document.head.appendChild(style);

  let i=0;
  function next(){
    if(i>=steps.length){
      document.getElementById('okBtn').classList.add('show');
      return;
    }
    const {el,dur}=steps[i];
    el.classList.add('active'); runBar(el,dur);
    setTimeout(()=>{el.classList.remove('active');el.classList.add('done');i++;next();},dur);
  }
  setTimeout(next,600);
})();
</script>
</body>
</html>
